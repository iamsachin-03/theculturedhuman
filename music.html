
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bihari Music - Bihar Angan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js" defer></script>
</head>
<body class="overflow-x-hidden">

    <!-- Header & Nav -->
    <header class="absolute top-0 left-0 w-full z-50 p-6">
        <nav class="max-w-7xl mx-auto flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-3">
                <div class="logo-container h-10 w-10"></div>
                <span class="text-2xl font-semibold tracking-wider">Bihar Angan</span>
            </a>
            <div class="hidden md:flex items-center space-x-10 text-lg">
                <a href="index.html" class="nav-link">Home</a>
                <a href="fitness.html" class="nav-link">Fitness</a>
                <a href="culture.html" class="nav-link">Culture</a>
                <a href="marketplace.html" class="nav-link">Marketplace</a>
                <a href="manch.html" class="nav-link">Manch</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="auth.html" id="login-link" class="nav-link">Login</a>
                <div id="user-info" class="hidden items-center space-x-4">
                    <span id="user-name" class="font-semibold"></span>
                    <button id="logout-button" class="p-2 rounded-full focus:outline-none">
                        <i class="fas fa-sign-out-alt text-xl"></i>
                    </button>
                </div>
                <button id="theme-toggle" class="p-2 rounded-full focus:outline-none">
                    <i id="theme-toggle-sun" class="fas fa-sun text-xl"></i>
                    <i id="theme-toggle-moon" class="fas fa-moon text-xl hidden"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- Music Hero Section -->
    <section class="relative hero-bg py-48 text-center" style="background-image: linear-gradient(to top, rgba(10, 10, 10, 1) 0%, rgba(10, 10, 10, 0.6) 50%, rgba(10, 10, 10, 0.9) 100%), url('https://images.unsplash.com/photo-1511379938547-c1f69419868d?q=80&w=2070&auto=format&fit=crop');">
        <div class="relative max-w-4xl mx-auto px-6">
            <h1 class="font-playfair text-6xl md:text-7xl font-bold">The Sound of the Soil</h1>
            <p class="text-xl md:text-2xl text-gray-300 mt-4">A curated collection of Bihari folk music, categorized by the moments they beautify.</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="py-24 px-6">
        <!-- Controls -->
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8 mb-16">
            <div class="custom-select-container">
                <div class="select-selected">Select a Category</div>
                <div class="select-items select-hide">
                    <div data-value="all">All Categories (Grid View)</div>
                    <div data-value="wedding">Wedding Songs (Biyah Geet)</div>
                    <div data-value="chhath">Chhath Puja Songs</div>
                    <div data-value="sohar">Sohar (Childbirth Songs)</div>
                    <div data-value="bhajan">Bihari Bhajans</div>
                    <div data-value="folk">Classic Folk Songs</div>
                </div>
            </div>
            <button id="back-to-grid" class="btn-primary" style="display: none;">‚Üê Back to All Categories</button>
        </div>

        <!-- Music Grid View -->
        <div id="music-grid-view" class="max-w-6xl mx-auto">
            <div class="music-grid">
                <!-- Grid items will be injected by JS -->
            </div>
        </div>

        <!-- Playlist View -->
        <div id="playlist-view" class="max-w-4xl mx-auto" style="display: none;">
            <div class="aspect-w-16 aspect-h-9 rounded-2xl overflow-hidden shadow-2xl">
                <iframe id="playlist-iframe" class="w-full h-full" src="" title="YouTube Music Playlist" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <div class="mt-6 text-center">
                <h2 id="playlist-title" class="font-playfair text-4xl font-bold"></h2>
                <p id="playlist-description" class="text-gray-400 text-lg mt-2"></p>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="text-center p-10 mt-16 border-t border-gray-800">
        <p class="text-gray-400">&copy; 2025 Bihar Angan. All Rights Reserved.</p>
        <p class="text-sm text-gray-600 mt-2">A platform dedicated to the culture, commerce, and community of Bihar.</p>
    </footer>
    
    <script src="logo.js"></script>
    <script src="theme.js"></script>
    <script>
        const data = {
            greatestHits: [
                { videoId: 'zF41-Hl_pGk', category: 'wedding', title: 'Lagan Mein Thumka', description: 'A quintessential wedding celebration song.' },
                { videoId: 'gh6cssL0dr8', category: 'chhath', title: 'Kaanch Hi Baans Ke Bahangiya', description: 'The most iconic Chhath puja anthem.' },
                { videoId: 'T1aWbpVf_T4', category: 'sohar', title: 'Janam Lihle Krishan Kanhaiya', description: 'A joyous sohar celebrating childbirth.' },
                { videoId: 'B5lJqS-8f4E', category: 'bhajan', title: 'Ram Bhajo Re', description: 'A soulful bhajan for peace and devotion.' },
                { videoId: 'a_234dsas3', category: 'folk', title: 'Nadiya Ke Teere Teere', description: 'A classic folk melody about life by the river.' },
            ],
            playlists: {
                "wedding": { id: "PL2D5392E75586542D", title: "Wedding Songs (Biyah Geet)", description: "Joyous melodies for the heart of a Bihari wedding." },
                "chhath": { id: "PL34C320F714B92416", title: "Chhath Puja Songs", description: "Devotional hymns for Bihar's most important festival." },
                "sohar": { id: "PL3fJTbH2Lzqa0x4Yp3-VdGqQ8c-3z4Jp", title: "Sohar (Childbirth Songs)", description: "Tender songs celebrating the arrival of a new life." },
                "bhajan": { id: "PL54B3E0A521A5405A", title: "Bihari Bhajans", description: "A serene collection of devotional bhajans from Bihar." },
                "folk": { id: "PLIz0XA3HXa0qeji32h2b80aZsox0aF7C5", title: "Classic Bihari Folk", description: "Timeless folk music telling the stories of the land." },
            }
        };

        const gridView = document.getElementById('music-grid-view');
        const playlistView = document.getElementById('playlist-view');
        const musicGrid = gridView.querySelector('.music-grid');
        const backButton = document.getElementById('back-to-grid');
        
        const playlistIframe = document.getElementById('playlist-iframe');
        const playlistTitle = document.getElementById('playlist-title');
        const playlistDescription = document.getElementById('playlist-description');

        // --- Custom Select Dropdown Logic ---
        const selected = document.querySelector(".select-selected");
        const itemsContainer = document.querySelector(".select-items");
        const items = itemsContainer.querySelectorAll("div");

        selected.addEventListener("click", () => {
            itemsContainer.classList.toggle("select-hide");
            selected.classList.toggle("select-arrow-active");
        });

        items.forEach(item => {
            item.addEventListener("click", function() {
                selected.innerHTML = this.innerHTML;
                itemsContainer.classList.add("select-hide");
                selected.classList.remove("select-arrow-active");
                handleSelection(this.dataset.value);
            });
        });

        document.addEventListener("click", function(e) {
            if (!e.target.closest(".custom-select-container")) {
                itemsContainer.classList.add('select-hide');
                selected.classList.remove("select-arrow-active");
            }
        });

        // --- View Switching Logic ---
        function showGridView() {
            gridView.style.display = 'block';
            playlistView.style.display = 'none';
            backButton.style.display = 'none';
        }

        function showPlaylistView(category) {
            const playlist = data.playlists[category];
            if (playlist) {
                playlistIframe.src = `https://www.youtube.com/embed/videoseries?list=${playlist.id}`;
                playlistTitle.textContent = playlist.title;
                playlistDescription.textContent = playlist.description;
                
                gridView.style.display = 'none';
                playlistView.style.display = 'block';
                backButton.style.display = 'inline-block';
            }
        }

        function handleSelection(value) {
            if (value === 'all') {
                showGridView();
            } else {
                showPlaylistView(value);
            }
        }
        
        backButton.addEventListener('click', showGridView);

        // --- Populate Grid View ---
        function populateGrid() {
            musicGrid.innerHTML = '';
            data.greatestHits.forEach(song => {
                const card = document.createElement('div');
                card.className = 'music-card';
                card.dataset.category = song.category;
                card.innerHTML = `
                    <img src="https://i.ytimg.com/vi/${song.videoId}/hqdefault.jpg" alt="${song.title}" class="music-card-thumbnail">
                    <div class="music-card-content">
                        <p class="music-card-category">${song.category.replace(/\b\w/g, l => l.toUpperCase())}</p>
                        <h3 class="music-card-title">${song.title}</h3>
                        <p class="text-gray-400 text-sm">${song.description}</p>
                    </div>
                `;
                card.addEventListener('click', () => showPlaylistView(song.category));
                musicGrid.appendChild(card);
            });
        }

        // Initial Load
        populateGrid();

    </script>
    <script type="module" src="auth.js"></script>
</body>
</html>
